import sys
import os
import shutil

sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
import unittest
from unittest.mock import patch, Mock
import datetime

env = patch.dict(
    "os.environ",
    {
        "FLIGHTS_DB_URL": "sqlite:///test/db/flights.db",
        "POSITIONS_DB_URL": "sqlite:///test/db/positions.db",
    },
)
# with env, patch('flask.Flask') as mock_flask:
from flask import Flask

with env, patch.object(Flask, "run") as mock_flask:
    import app


class TestQueries(unittest.TestCase):
    def setUp(self):
        pass

    def tearDown(self):
        pass

    def new_datetime_now(self, tz):
        return datetime.datetime(2020, 5, 15, 13, 10)

    def new_datetime_fromtimestamp(self, time, tz):
        return datetime.datetime(2020, 5, 15, 13, 10)

    def test_get_flight(self):
        with app.app.app_context():
            result = app.get_flight("CGEYQ-1589545563-3-1-67")
            # fmt: off
            self.assertEqual(result, {'id': 'CGEYQ-1589545563-3-1-67', 'added': datetime.datetime(2020, 5, 19, 15, 23, 39), 'changed': datetime.datetime(2020, 5, 19, 15, 23, 39), 'flight_number': 'CGEYQ', 'registration': 'CGEYQ', 'atc_ident': None, 'hexid': None, 'origin': 'CYZX', 'destination': 'CYQI', 'aircraft_type': 'C177', 'filed_ground_speed': None, 'filed_speed': 112, 'filed_altitude': 6000, 'true_cancel': None, 'route': 'CYZX..YZX..MUXEL..OMTIV..CYQI', 'status': 'F', 'actual_arrival_gate': None, 'estimated_arrival_gate': None, 'actual_departure_gate': None, 'estimated_departure_gate': None, 'actual_arrival_terminal': None, 'scheduled_arrival_terminal': None, 'actual_departure_terminal': None, 'scheduled_departure_terminal': None, 'baggage_claim': None, 'cancelled': None, 'filed_off': datetime.datetime(2020, 5, 15, 13, 15), 'actual_out': None, 'actual_off': None, 'actual_on': None, 'actual_in': None, 'estimated_out': None, 'estimated_off': datetime.datetime(2020, 5, 15, 13, 30), 'estimated_on': datetime.datetime(2020, 5, 15, 14, 18, 58), 'estimated_in': None, 'scheduled_out': None, 'scheduled_in': None, 'predicted_out': None, 'predicted_off': datetime.datetime(2020, 5, 15, 13, 30), 'predicted_on': datetime.datetime(2020, 5, 15, 14, 18, 58), 'predicted_in': None})
            # fmt: on

    @patch("app.datetime")
    def test_get_busiest_airports(self, mock_datetime):
        mock_datetime.now.side_effect = self.new_datetime_now
        mock_datetime.fromtimestamp.side_effect = self.new_datetime_fromtimestamp
        with app.app.app_context(), app.app.test_request_context("test", data={"query": 0}):
            result = app.get_busiest_airports().get_json()
            self.assertEqual(result, ["KIWA", "KORD"])

    @patch("app.datetime")
    def test_airport_arrivals(self, mock_datetime):
        mock_datetime.now.side_effect = self.new_datetime_now
        with app.app.app_context():
            result = app.airport_arrivals("KBRD").get_json()
            # fmt: off
            self.assertEqual(result, [{'actual_arrival_gate': None, 'actual_arrival_terminal': None, 'actual_departure_gate': None, 'actual_departure_terminal': None, 'actual_in': None, 'actual_off': None, 'actual_on': 'Fri, 15 May 2020 13:27:01 GMT', 'actual_out': None, 'added': 'Tue, 19 May 2020 15:23:39 GMT', 'aircraft_type': None, 'atc_ident': None, 'baggage_claim': None, 'cancelled': None, 'changed': 'Tue, 19 May 2020 15:23:39 GMT', 'destination': 'KBRD', 'estimated_arrival_gate': None, 'estimated_departure_gate': None, 'estimated_in': None, 'estimated_off': None, 'estimated_on': None, 'estimated_out': None, 'filed_altitude': None, 'filed_ground_speed': None, 'filed_off': None, 'filed_speed': None, 'flight_number': 'BMJ64', 'hexid': None, 'id': 'BMJ64-1589543130-5-1-174', 'origin': 'KLJF', 'predicted_in': None, 'predicted_off': None, 'predicted_on': None, 'predicted_out': None, 'registration': 'N104BA', 'route': None, 'scheduled_arrival_terminal': None, 'scheduled_departure_terminal': None, 'scheduled_in': None, 'scheduled_out': None, 'status': None, 'true_cancel': None}])
            # fmt: on

    @patch("app.datetime")
    def test_airport_departures(self, mock_datetime):
        mock_datetime.now.side_effect = self.new_datetime_now
        with app.app.app_context():
            result = app.airport_departures("KORD").get_json()
            # fmt: off
            self.assertEqual(result, [{'actual_arrival_gate': None, 'actual_arrival_terminal': None, 'actual_departure_gate': None, 'actual_departure_terminal': None, 'actual_in': None, 'actual_off': None, 'actual_on': None, 'actual_out': 'Fri, 15 May 2020 14:10:45 GMT', 'added': 'Tue, 19 May 2020 15:23:39 GMT', 'aircraft_type': None, 'atc_ident': None, 'baggage_claim': None, 'cancelled': None, 'changed': 'Tue, 19 May 2020 15:23:39 GMT', 'destination': 'KDEN', 'estimated_arrival_gate': None, 'estimated_departure_gate': None, 'estimated_in': None, 'estimated_off': None, 'estimated_on': None, 'estimated_out': None, 'filed_altitude': None, 'filed_ground_speed': None, 'filed_off': None, 'filed_speed': None, 'flight_number': 'UAL2465', 'hexid': None, 'id': 'UAL2465-1589328337-fa-0001', 'origin': 'KORD', 'predicted_in': None, 'predicted_off': None, 'predicted_on': None, 'predicted_out': None, 'registration': None, 'route': None, 'scheduled_arrival_terminal': None, 'scheduled_departure_terminal': None, 'scheduled_in': None, 'scheduled_out': None, 'status': None, 'true_cancel': None}])
            # fmt: on

    @patch("app.datetime")
    def test_airport_enroute(self, mock_datetime):
        mock_datetime.now.side_effect = self.new_datetime_now
        with app.app.app_context():
            result = app.airport_enroute("CYQI").get_json()
            # fmt: off
            self.assertEqual(result, [{'actual_arrival_gate': None, 'actual_arrival_terminal': None, 'actual_departure_gate': None, 'actual_departure_terminal': None, 'actual_in': None, 'actual_off': None, 'actual_on': None, 'actual_out': None, 'added': 'Tue, 19 May 2020 15:23:39 GMT', 'aircraft_type': 'C177', 'atc_ident': None, 'baggage_claim': None, 'cancelled': None, 'changed': 'Tue, 19 May 2020 15:23:39 GMT', 'destination': 'CYQI', 'estimated_arrival_gate': None, 'estimated_departure_gate': None, 'estimated_in': None, 'estimated_off': 'Fri, 15 May 2020 13:30:00 GMT', 'estimated_on': 'Fri, 15 May 2020 14:18:58 GMT', 'estimated_out': None, 'filed_altitude': 6000, 'filed_ground_speed': None, 'filed_off': 'Fri, 15 May 2020 13:15:00 GMT', 'filed_speed': 112, 'flight_number': 'CGEYQ', 'hexid': None, 'id': 'CGEYQ-1589545563-3-1-67', 'origin': 'CYZX', 'predicted_in': None, 'predicted_off': 'Fri, 15 May 2020 13:30:00 GMT', 'predicted_on': 'Fri, 15 May 2020 14:18:58 GMT', 'predicted_out': None, 'registration': 'CGEYQ', 'route': 'CYZX..YZX..MUXEL..OMTIV..CYQI', 'scheduled_arrival_terminal': None, 'scheduled_departure_terminal': None, 'scheduled_in': None, 'scheduled_out': None, 'status': 'F', 'true_cancel': None}])
            # fmt: on

    @patch("app.datetime")
    def test_airport_scheduled(self, mock_datetime):
        mock_datetime.now.side_effect = self.new_datetime_now
        with app.app.app_context():
            result = app.airport_scheduled("CYZX").get_json()
            # fmt: off
            self.assertEqual(result, [{'actual_arrival_gate': None, 'actual_arrival_terminal': None, 'actual_departure_gate': None, 'actual_departure_terminal': None, 'actual_in': None, 'actual_off': None, 'actual_on': None, 'actual_out': None, 'added': 'Tue, 19 May 2020 15:23:39 GMT', 'aircraft_type': 'C177', 'atc_ident': None, 'baggage_claim': None, 'cancelled': None, 'changed': 'Tue, 19 May 2020 15:23:39 GMT', 'destination': 'CYQI', 'estimated_arrival_gate': None, 'estimated_departure_gate': None, 'estimated_in': None, 'estimated_off': 'Fri, 15 May 2020 13:30:00 GMT', 'estimated_on': 'Fri, 15 May 2020 14:18:58 GMT', 'estimated_out': None, 'filed_altitude': 6000, 'filed_ground_speed': None, 'filed_off': 'Fri, 15 May 2020 13:15:00 GMT', 'filed_speed': 112, 'flight_number': 'CGEYQ', 'hexid': None, 'id': 'CGEYQ-1589545563-3-1-67', 'origin': 'CYZX', 'predicted_in': None, 'predicted_off': 'Fri, 15 May 2020 13:30:00 GMT', 'predicted_on': 'Fri, 15 May 2020 14:18:58 GMT', 'predicted_out': None, 'registration': 'CGEYQ', 'route': 'CYZX..YZX..MUXEL..OMTIV..CYQI', 'scheduled_arrival_terminal': None, 'scheduled_departure_terminal': None, 'scheduled_in': None, 'scheduled_out': None, 'status': 'F', 'true_cancel': None}])
            # fmt: on

    def test_get_positions(self):
        with app.app.app_context():
            result = app.get_positions("N678WW-1593539100-adhoc-0").get_json()
            # fmt: off
            self.assertEqual(result, [{'added': 'Tue, 30 Jun 2020 17:54:14 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5600, 'altitude_change': 'C', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '243EF647EC9523A9', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': -128, 'gnss_altitude': 5725, 'groundspeed': 100, 'heading': '300', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.80651', 'longitude': '-112.23867', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:54:02 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:53:57 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5500, 'altitude_change': 'D', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': 'F6C674946CB4C9E', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': -192, 'gnss_altitude': 5775, 'groundspeed': 98, 'heading': '302', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.80223', 'longitude': '-112.23112', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:53:46 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:53:40 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5600, 'altitude_change': 'D', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': 'C7239949D8A4AEDC', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': -448, 'gnss_altitude': 5700, 'groundspeed': 104, 'heading': '293', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.79825', 'longitude': '-112.22198', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:53:27 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:53:23 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5700, 'altitude_change': 'C', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '57BE11EDA8E1F5C0', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': -64, 'gnss_altitude': 5875, 'groundspeed': 106, 'heading': '287', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.79614', 'longitude': '-112.21262', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:53:11 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:53:05 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5600, 'altitude_change': ' ', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '2519B3D67B0D9A71', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 256, 'gnss_altitude': 5750, 'groundspeed': 106, 'heading': '303', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.79236', 'longitude': '-112.20320', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:52:53 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:52:50 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5600, 'altitude_change': 'C', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': 'A46519AF6B24D1E4', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 512, 'gnss_altitude': 5675, 'groundspeed': 101, 'heading': '303', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.78831', 'longitude': '-112.19569', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:52:37 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:52:27 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5500, 'altitude_change': ' ', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': 'CEDC1E00D8F3E539', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': -128, 'gnss_altitude': 5625, 'groundspeed': 109, 'heading': '301', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.78236', 'longitude': '-112.18397', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:52:15 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:52:02 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5500, 'altitude_change': ' ', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '1CA63F871814A233', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 0, 'gnss_altitude': 5650, 'groundspeed': 107, 'heading': '304', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.77495', 'longitude': '-112.16979', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:51:45 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:50:52 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 5000, 'altitude_change': 'C', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '2C82BA92446DC258', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 960, 'gnss_altitude': 5175, 'groundspeed': 102, 'heading': '297', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.75740', 'longitude': '-112.13871', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:50:40 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:50:33 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 4800, 'altitude_change': 'C', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '9AAFCAB1AC627202', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 384, 'gnss_altitude': 4900, 'groundspeed': 102, 'heading': '311', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.75261', 'longitude': '-112.12973', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:50:20 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}, {'added': 'Tue, 30 Jun 2020 17:50:23 GMT', 'adsb_version': None, 'air_pressure': None, 'aircraft_type': 'C172', 'altitude': 4700, 'altitude_change': ' ', 'atc_ident': None, 'destination': None, 'enroute_time': None, 'estimated_arrival_time': None, 'estimated_departure_time': None, 'facility_hash': '2C6790EA8E5E58A9', 'facility_name': 'FlightAware ADS-B', 'filed_cruising_speed': None, 'geometric_vertical_rate': 832, 'gnss_altitude': 4775, 'groundspeed': 99, 'heading': '343', 'hexid': 'A8FB79', 'id': 'N678WW-1593539100-adhoc-0', 'indicated_airspeed': None, 'latitude': '33.74620', 'longitude': '-112.12490', 'mach_number': None, 'magnetic_heading': None, 'nac_p': None, 'nac_v': None, 'nav_altimiter_setting': None, 'nav_altitude': None, 'nav_heading': None, 'nav_modes': None, 'nic': None, 'nic_baro': None, 'origin': 'KDVT', 'radius_of_containment': None, 'registration': 'N678WW', 'route': None, 'sil': None, 'sil_type': None, 'squawk': 1200, 'temperature': None, 'temperature_quality': None, 'time': 'Tue, 30 Jun 2020 17:50:04 GMT', 'true_airspeed': None, 'true_heading': None, 'update_type': 'A', 'vertical_rate': None, 'waypoints': None, 'wind_direction': None, 'wind_quality': None, 'wind_speed': None}])
            # fmt: on
